<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body>
  <!-- ‡¶è‡¶ï‡ßá‡¶ï‡¶ü‡¶æ Card -->
  <div class="card">
    <h2 class="service-name">‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∏‡ßá‡¶¨‡¶æ</h2>
    <p class="service-number">999</p>
    <button class="call-btn">Call</button>
  </div>

  <div class="card">
    <h2 class="service-name">Fire Service</h2>
    <p class="service-number">123</p>
    <button class="call-btn">Call</button>
  </div>

  <!-- Total Coins ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ -->
  <p>Coins: <span id="coins">100</span></p>

  <!-- Call History Section -->
  <h3>Call History</h3>
  <ul id="callHistory"></ul>

  <script>
    // ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶ï‡ßü‡ßá‡¶® ‡¶•‡¶æ‡¶ï‡¶¨‡ßá
    let coins = 100;

    // ‡¶∏‡¶¨ call button select ‡¶ï‡¶∞‡ßã
    const callButtons = document.querySelectorAll('.call-btn');

    for (const btn of callButtons) {
      btn.addEventListener('click', function () {
        // service name ‡¶è‡¶¨‡¶Ç number ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡¶æ
        const card = btn.closest('.card');
        const serviceName = card.querySelector('.service-name').innerText;
        const serviceNumber = card.querySelector('.service-number').innerText;

        // ‡¶ï‡ßü‡ßá‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ
        if (coins < 20) {
          alert("Sorry! You don‚Äôt have enough coins to make a call.");
          return; // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶•‡ßá‡¶Æ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá
        }

        // Alert ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
        alert(`üìûCalling ${serviceName} (${serviceNumber})...`);

        // ‡¶ï‡ßü‡ßá‡¶® ‡¶•‡ßá‡¶ï‡ßá 20 ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã
        coins -= 20;
        document.getElementById('coins').innerText = coins;

        // Call History ‡¶§‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
        // Call History container select ‡¶ï‡¶∞‡¶æ
        const callHistory = document.getElementById('callHistory'); // ‡¶è‡¶á div ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ aside ‡¶è ‡¶•‡¶æ‡¶ï‡¶¨‡ßá

        // Call History ‡¶§‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ö‡¶Ç‡¶∂
        const now = new Date();
        const timeString = now.toLocaleTimeString(); // ‡¶Ø‡ßá‡¶Æ‡¶®: 11:36:58 AM

        const historyItem = document.createElement('div');
        historyItem.className = "flex justify-between items-center bg-gray-100 rounded-lg p-4 mb-2";
        historyItem.innerHTML = `
    <div>
        <h2>${serviceName}</h2>
        <p class="text-gray-500">${serviceNumber}</p>
    </div>
    <p>${timeString}</p>
        `;

        callHistory.prepend(historyItem); // ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶≤ history ‡¶è‡¶∞ ‡¶â‡¶™‡¶∞‡ßá ‡¶Ø‡ßã‡¶ó
      });
    }

  </script>
</body>

</html>